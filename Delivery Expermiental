local TweenService = game:GetService("TweenService")
local player = game.Players.LocalPlayer

player.Character.ChildAdded:Connect(function(item)
    if item:FindFirstChild("House") then
        local house = item.House.Value
        local door = house:GetDescendants()

        for i = 1, #door do
            if door[i].Name == "GivePizza" then
                local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart then
                    -- Posición por debajo de la puerta
                    local belowPosition = door[i].CFrame * CFrame.new(0, -50, 0) -- 50 unidades por debajo

                    -- Tween para mover al personaje por debajo de la puerta
                    local tweenInfo1 = TweenInfo.new(
                        10, -- Duración para ir debajo del mapa
                        Enum.EasingStyle.Linear, -- Velocidad constante
                        Enum.EasingDirection.InOut
                    )
                    local goal1 = {CFrame = belowPosition}
                    local tween1 = TweenService:Create(humanoidRootPart, tweenInfo1, goal1)

                    -- Tween para mover al personaje hacia la puerta
                    local tweenInfo2 = TweenInfo.new(
                        3, -- Duración para subir
                        Enum.EasingStyle.Quad, -- Movimiento suave al subir
                        Enum.EasingDirection.Out
                    )
                    local goal2 = {CFrame = door[i].CFrame}
                    local tween2 = TweenService:Create(humanoidRootPart, tweenInfo2, goal2)

                    -- Reproducir los Tweens en secuencia
                    tween1:Play()
                    tween1.Completed:Connect(function()
                        tween2:Play()
                    end)
                end
            end
        end
    end
end)
